{
  "_fv": 18,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"string\" type=\"String\">string</variable><variable id=\"i\" type=\"Number\">i</variable><variable id=\"f1\" type=\"Boolean\">f1</variable><variable id=\"f2\" type=\"Boolean\">f2</variable></variables><block deletable=\"false\" type=\"event_trigger\" x=\"51\" y=\"78\"><field name=\"trigger\">entity_attacked</field><next><block type=\"java_code\"><field name=\"CODE\">Entity attacker = null;</field><next><block type=\"java_code\"><field name=\"CODE\">net.minecraftforge.event.entity.living.LivingAttackEvent evt = (net.minecraftforge.event.entity.living.LivingAttackEvent) dependencies.get(\"event\");</field><next><block type=\"java_code\"><field name=\"CODE\">f1=(evt != null);</field><next><block type=\"java_code\"><field name=\"CODE\">if (f1 &amp;&amp; evt.getSource() != null) attacker = evt.getSource().getTrueSource();</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityPlayer</field><value name=\"compareTo\"><block type=\"entity_from_deps\"/></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">f2=MCreatorUtils.isWearingMangekyo((EntityPlayer)entity);</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"variables_get_logic\"><field name=\"VAR\">local:f2</field></block></value><value name=\"B\"><block type=\"compare_mcitems\"><value name=\"a\"><block type=\"entity_get_armor_slot_item\"><value name=\"slotid\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"b\"><block type=\"mcitem_all\"><field name=\"value\">CUSTOM:Sharingan.helmet</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">if (attacker instanceof EntityLivingBase) {</field><next><block type=\"java_code\"><field name=\"CODE\">MCreatorAoeCommand.set(entity,1,10).effect(MobEffects.SLOWNESS,15,3).effect(MobEffects.MINING_FATIGUE,15,3);</field><next><block type=\"java_code\"><field name=\"CODE\">((EntityLivingBase)attacker).addPotionEffect(new PotionEffect(MobEffects.SLOWNESS, 300, 4, false, true));</field><next><block type=\"java_code\"><field name=\"CODE\">}</field></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_haspotioneffect\"><field name=\"potion\">CUSTOM:JadenEffect</field><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"compare_mcitems\"><value name=\"a\"><block type=\"entity_iteminhand\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"b\"><block type=\"mcitem_all\"><field name=\"value\">CUSTOM:Jadensword</field></block></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">if (attacker instanceof EntityLivingBase) {</field><next><block type=\"java_code\"><field name=\"CODE\">if (entity.world instanceof WorldServer) ((WorldServer) entity.world).spawnParticle(EnumParticleTypes.CRIT_MAGIC, attacker.posX, attacker.posY, attacker.posZ, (int) 300, 1, 1, 1, 1, new int[0]);</field><next><block type=\"java_code\"><field name=\"CODE\">((EntityLivingBase) attacker).clearActivePotions();</field><next><block type=\"java_code\"><field name=\"CODE\">if (attacker instanceof EntityPlayer) ((EntityPlayer)attacker).inventory.clear();</field><next><block type=\"java_code\"><field name=\"CODE\">((EntityLivingBase) attacker).setHealth(0.0F);</field><next><block type=\"java_code\"><field name=\"CODE\">string = net.minecraft.client.resources.I18n.format(\"chattext.jaden.diedtryingtoattack\", attacker.getDisplayName().getFormattedText());</field><next><block type=\"world_send_chat\"><value name=\"text\"><block type=\"text_join\"><mutation items=\"4\"/><value name=\"ADD0\"><block type=\"variables_get_text\"><field name=\"VAR\">local:string</field></block></value><value name=\"ADD1\"><block type=\"text\"><field name=\"TEXT\"> (client?</field></block></value><value name=\"ADD2\"><block type=\"world_data_isremote\"/></value><value name=\"ADD3\"><block type=\"text\"><field name=\"TEXT\">)</field></block></value></block></value><next><block type=\"java_code\"><field name=\"CODE\">}</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"entity_isriding\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"B\"><block type=\"variables_get_logic\"><field name=\"VAR\">local:f1</field></block></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">f1 = (entity.getRidingEntity() instanceof MCreatorSusanooBase) || (entity.getRidingEntity() instanceof MCreatorEntityShieldBase) || (entity.getRidingEntity() instanceof MCreatorKingOfHellEntity.EntityCustom);</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"variables_get_logic\"><field name=\"VAR\">local:f1</field></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">evt.setCanceled(true);</field><next><block type=\"java_code\"><field name=\"CODE\">entity.getRidingEntity().attackEntityFrom(evt.getSource(), evt.getAmount());</field></block></next></block></statement></block></next></block></statement><next><block type=\"java_code\"><field name=\"CODE\">MCreatorPlayerTracker.logBattleExp((EntityPlayer)entity,0.5d);</field></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"java_code\"><field name=\"CODE\">f1=(attacker instanceof EntityPlayer &amp;&amp; (((EntityPlayer)attacker).inventory.armorItemInSlot(3).getItem() == new ItemStack(MCreatorMangekyoSharingan.helmet).getItem() || ((EntityPlayer)attacker).inventory.armorItemInSlot(3).getItem() == new ItemStack(MCreatorMangekyoSharinganEternal.helmet).getItem())) || (attacker instanceof MCreatorSusanooBase);</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"variables_get_logic\"><field name=\"VAR\">local:f1</field></block></value><value name=\"B\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityLivingBase</field><value name=\"compareTo\"><block type=\"entity_from_deps\"/></value></block></value></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">if (attacker.isBeingRidden()) attacker = attacker.getControllingPassenger();</field><next><block type=\"java_code\"><field name=\"CODE\">i=((EntityPlayer) attacker).experienceLevel/20;</field><next><block type=\"entity_add_potion_advanced\"><field name=\"potion\">CUSTOM:AmaterasuFlame</field><value name=\"level\"><block type=\"variables_get_number\"><field name=\"VAR\">local:i</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">200</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"java_code\" x=\"686\" y=\"186\"><field name=\"CODE\">MCreatorUtils.sendChatAll(\"Attacker: \" + (attacker==null?\"null\":attacker.getDisplayName().getFormattedText()) + \" target: \" + entity.getDisplayName().getFormattedText() + \" type:\" + evt.getSource().getDamageType() + \" amount=\" + evt.getAmount());</field></block><block type=\"controls_if\" x=\"1144\" y=\"557\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">CUSTOM:Teacher</field><value name=\"compareTo\"><block type=\"entity_from_deps\"/></value></block></value><statement name=\"DO0\"><block type=\"spawn_particle_multi\"><field name=\"particle\">CRIT_MAGIC</field><value name=\"count\"><block type=\"math_number\"><field name=\"NUM\">300</field></block></value><value name=\"x\"><block type=\"entity_pos_x\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"y\"><block type=\"entity_pos_y\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"z\"><block type=\"entity_pos_z\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><value name=\"dx\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"dy\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"dz\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"speed\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><next><block type=\"entity_set_health\"><value name=\"health\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></next></block></statement></block></xml>"
  }
}