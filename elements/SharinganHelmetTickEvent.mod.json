{
  "_fv": 18,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"Boolean\" id=\"not_my_sharingan\">not_my_sharingan</variable><variable type=\"Boolean\" id=\"f1\">f1</variable><variable type=\"String\" id=\"string\">string</variable><variable type=\"Number\" id=\"player_id\">player_id</variable><variable type=\"Number\" id=\"sharingan_id\">sharingan_id</variable><variable type=\"MCItem\" id=\"mangekyo\">mangekyo</variable></variables><block type=\"event_trigger\" deletable=\"false\" x=\"116\" y=\"71\"><field name=\"trigger\">no_ext_trigger</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"item_get_max_damage\"><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"math_binary_ops\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"item_get_max_damage\"><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value></block></value><value name=\"B\"><block type=\"item_get_damage\"><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"item_nbt_logic_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">sharingan_blinded</field></block></value><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value><value name=\"tagValue\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"item_nbt_logic_get\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">sharingan_blinded</field></block></value><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_logic\"><field name=\"VAR\">local:not_my_sharingan</field><value name=\"VAL\"><block type=\"java_code_get\"><field name=\"CODE\">!((ItemDojutsu.Base)itemstack.getItem()).isOwner(itemstack, (EntityLivingBase)entity);</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"variables_get_logic\"><field name=\"VAR\">local:not_my_sharingan</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"entity_xplevel\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">10</field></block></value></block></value><value name=\"B\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"variables_get_text\"><field name=\"VAR\">global:BATTLEXP</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">300</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"world_data_isremote\"></block></value></block></value><statement name=\"DO0\"><block type=\"entity_add_item\"><value name=\"amount\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"entity_set_armor_slot_item\"><value name=\"item\"><block type=\"mcitem_all\"><field name=\"value\">Blocks.AIR</field></block></value><value name=\"slotid\"><block type=\"math_number\"><field name=\"NUM\">3</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"entity_send_chat\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">net.minecraft.util.text.translation.I18n.translateToLocal(\"chattext.sharingan.notyours\")</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"actbar\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></statement><next><block type=\"java_code\"><field name=\"CODE\">return;</field></block></next></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_nbt_logic_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">susanoo_activated</field></block></value></block></value><statement name=\"DO0\"><block type=\"call_procedure\"><field name=\"procedure\">SusanooSkeletonBodyTickEvent</field></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MOD</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">entity.ticksExisted</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">80</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">70</field></block></value></block></value><value name=\"B\"><block type=\"world_data_isremote\"></block></value></block></value><statement name=\"DO0\"><block type=\"world_entity_inrange_foreach\"><value name=\"_placeholder\"><block type=\"entity_iterator\" deletable=\"false\" movable=\"false\"></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"range\"><block type=\"math_number\"><field name=\"NUM\">20</field></block></value><statement name=\"foreach\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">entityiterator.isInvisible()</field></block></value><statement name=\"DO0\"><block type=\"java_code\"><field name=\"CODE\">ProcedureOnLivingUpdate.setGlowingFor(entityiterator, 75);</field></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"compare_mcitems\"><value name=\"a\"><block type=\"itemstack_to_mcitem\"></block></value><value name=\"b\"><block type=\"mcitem_all\"><field name=\"value\">CUSTOM:Sharingan.helmet</field></block></value></block></value><value name=\"B\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"variables_get_text\"><field name=\"VAR\">global:BATTLEXP</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1000</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">PlayerTracker.Deaths.hasRecentNearby((EntityPlayer)entity,40D,6000D)</field></block></value><value name=\"B\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"world_data_isremote\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set_itemstack\"><field name=\"VAR\">local:mangekyo</field><value name=\"VAL\"><block type=\"mcitem_all\"><field name=\"value\">CUSTOM:MangekyoSharingan.helmet</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set_itemstack\"><field name=\"VAR\">local:mangekyo</field><value name=\"VAL\"><block type=\"mcitem_all\"><field name=\"value\">CUSTOM:MangekyoSharinganObito.helmet</field></block></value></block></statement><next><block type=\"java_code\"><field name=\"CODE\">((ItemSharingan.Base)mangekyo.getItem()).copyOwner(mangekyo, itemstack);</field><next><block type=\"entity_add_item\"><value name=\"amount\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"item\"><block type=\"variables_get_itemstack\"><field name=\"VAR\">local:mangekyo</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"entity_remove_item\"><value name=\"amount\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"item\"><block type=\"itemstack_to_mcitem\"></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"java_code\"><field name=\"CODE\">entity =((ItemSharingan.Base)mangekyo.getItem()).getOwner(mangekyo, world);</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"entity_has_achievement\"><field name=\"achievement\">CUSTOM:MangekyoSharinganOpened</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"entity_add_achievement\"><field name=\"achievement\">CUSTOM:MangekyoSharinganOpened</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityPlayerMP</field><value name=\"compareTo\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"play_sound\"><field name=\"sound\">ui.toast.challenge_complete</field><value name=\"x\"><block type=\"entity_pos_x\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"y\"><block type=\"entity_pos_y\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"z\"><block type=\"entity_pos_z\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"pitch\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"entity_add_potion_advanced\"><field name=\"potion\">BLINDNESS</field><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">1200</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_nbt_logic_get\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">susanoo_activated</field></block></value></block></value><statement name=\"DO0\"><block type=\"call_procedure\"><field name=\"procedure\">Susanoo</field></block></statement></block></next></block></statement></block></next></block></next></block><block type=\"java_code\" x=\"1290\" y=\"468\"><field name=\"CODE\">UUID sharinganUuid = ProcedureUtils.getOwnerId(itemstack);</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">!entity.getEntityData().getUniqueId(\"lastWornForeignSharingan\").equals(sharinganUuid)</field></block></value><statement name=\"DO0\"><block type=\"entity_add_potion_advanced\"><field name=\"potion\">BLINDNESS</field><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">2</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">1200</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"java_code\"><field name=\"CODE\">entity.getEntityData().setUniqueId(\"lastWornForeignSharingan\", sharinganUuid);</field></block></next></block></statement></block></next></block><block type=\"logic_binary_ops\" x=\"1027\" y=\"835\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"entity_xplevel\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">30</field></block></value></block></value></block><block type=\"java_code\" x=\"889\" y=\"1126\"><field name=\"CODE\">((ItemSharingan.Base)mangekyo.getItem()).setColor(mangekyo, 1+world.rand.nextInt(0x00FFFFFF) | 0x20000000);</field></block><block type=\"logic_binary_ops\" x=\"852\" y=\"1259\"><field name=\"OP\">AND</field></block></xml>"
  }
}